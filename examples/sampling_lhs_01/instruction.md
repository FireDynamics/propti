# Instruction
An example for using the sampler to create multiple simulations from one input file with different parameters.
## 1. Clone a Template File
```bash
propti template --name fds
```

By utilizing the `name` variable, it is possible to clone a template from the directory `propti/jobs` into the ongoing working directory. This permits flexible customization of simulations through parameter replacement, denoted by # placeholders.

Template Example:
```bash
#!/bin/bash
#!/bin/sh
# Name of the Job
#SBATCH --job-name=#CHID#_#ID#

# On witch device the simulation is run 
#SBATCH --partition=norma
```

The above exemplifies a template script sourced from `propti/jobs/fds`. In this script, `#CHID#` and `#ID#` serve as variables that undergo replacement. While `#CHID#` is a variable requiring definition within the input file, `#ID#` is automatically substituted.


## 2. Create an `input.py` File

A python file that utilizes the propti module is necessary. For an idea how to structure the input file see `input.py`. It is important that the sampler is created before the jobs.

The sampler has currently 2 significant setup parameters:
- `algorithm`: Specifies the algorithm utilized for parameter computation. Currently supported: `LHS` and `LINEAR`
- `nsamples`: Defines the amount of samples that are generated.

To automatically crate jobs there are 3 important settings:
- `scheduler`: set the scheduler that is used. currently only `slurm` is supported, serving as the default value.
- `template`: Refers to the path leading to the template file.
- `parameters`: Defines parameters slated for replacement. There are 3 possible ways to define a parameter:
  - `NAME` Solely the parameter name is provided. Subsequent substitution involves the parameter generated by the sampler for the ongoing simulation.
  - (`NAME`, `VALUE`) Each placeholder is replaced by the same value
  - (`NAME`, `LIST[VALUE]`) Each placeholder is replaced by the corresponding value. substituted by corresponding values. It is essential for the list's length to match 'nsamples'.



## 3. Initiate the Sampler
Execute the subsequent command to launch the input file, thereby initiating simulation creation alongside job execution scripts.
```bash
propti sampler input.py
```
Once simulations are ready for execution, activate the subsequent command:
```bash
propti job start
```
## 4. Query Running Job Information
To acquire real-time insight into job statuses, execute the following command:
```bash
propti job info
``` 

The output could look something like this.
```
         NAME |    JOBID | ST |       TIME | TIME_LIMIT
sample_000000 | 19932566 |  R |       7:17 |      20:00
sample_000003 | 19932569 |  R |       7:17 |      20:00
sample_000001 | -------- |  F | ---------- | ----------
sample_000002 | -------- |  F | ---------- | ----------
sample_000004 | -------- |  F | ---------- | ----------
3/5 finished with 0 errors.
```